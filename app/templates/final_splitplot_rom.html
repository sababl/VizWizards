{% extends "base.html" %}

{% block title %}HALE Flow Map{% endblock %}

{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grouped Bar Chart - HALE for Men (2010 vs 2021)</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="../static/css/styles.css">
    
    <!-- Style for Info Box & Chart Container -->
    <style>
        .info-box {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            max-width: 900px;
            text-align: justify;
            margin: 20px auto;
            line-height: 1.5;
            font-size: 16px;
        }

        /* Scrollable Chart */
        #chart-wrapper {
            width: 100%;
            overflow-x: auto !important; /* Ensures horizontal scrolling */
            overflow-y: hidden;
            white-space: nowrap;
            padding-bottom: 5px; /* Minimal extra space */
            display: block;
        }

        #chart-container {
            min-width: 1000px;
            width: fit-content;
        }

        #chart {
            height: 300px !important; /* Further reduced height */
        }

        /* Legend Styling */
        #legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 14px;
            font-weight: bold;
            margin-top: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            display: inline-block;
            margin-right: 5px;
            border-radius: 3px;
        }
        
    </style>
</head>
<body>
    
    <h2 style="text-align: center;">Healthy Life Expectancy at Birth for Males (2010 vs 2021)</h2>

    <!-- Info Box -->
    <div class="info-box">
        <p>
        This split plot visualization compares the Healthy Life Expectancy (HALE) at birth for males across different continents in 2010 and 2021. 
        Instead of displaying all countries, the chart highlights the most representative ones within each continent. For each continent, the country 
        with the lowest average HALE and the country with the highest average HALE were selected based on their average values in 2010 and 2021. 
        Each selected country has two bars: a blue bar representing HALE in 2010 and a red bar representing HALE in 2021. This allows us to observe 
        health improvements or declines over time. By focusing on extreme cases within each continent, the visualization effectively reveals disparities 
        in life expectancy, the impact of healthcare systems, and overall living conditions. The split plot format helps provide a clear comparison of 
        global health trends while avoiding clutter.
        </p>
    </div>

    <!-- Chart Container -->
    <div id="chart-wrapper">
        <div id="chart-container">
            <svg id="chart"></svg>
        </div>
    </div>
    
    <!-- Legend -->
    <div id="legend">
        <span class="legend-item">
            <span class="legend-color" style="background-color: #3498db;"></span> 2010
        </span>
        <span class="legend-item">
            <span class="legend-color" style="background-color: #e74c3c;"></span> 2021
        </span>
    </div>    

    <script src="../static/js/finalsplit.js"></script>

</body>
</html>

{% endblock %}
