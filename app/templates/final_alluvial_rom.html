{% extends "base.html" %}

{% block title %}Alluvial Chart{% endblock %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alluvial Chart - Life Expectancy</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <style>
        .info-box {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            max-width: 1000px;
            text-align: justify;
            margin: 20px auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .chart-container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: auto;
        }
        svg {
            width: 100%;
            height: 600px;
        }
    </style>
</head>
<body>
    <h2 style="text-align:center; font-size:24px;">Life Expectancy vs. Healthy Life Expectancy (2021)</h2>
    
    <div class="info-box">
        <p>
            This interactive bar chart visualizes life expectancy data for various countries, focusing on three key metrics:
            total life expectancy, healthy life expectancy, and unhealthy years. The data is sourced from CSV files containing
            life expectancy (LE) and healthy life expectancy (HLE) values for 2021. After filtering and merging the data,
            the chart highlights the countries with the highest and lowest life expectancy within each continent. Additionally,
            the healthy life expectancy for specific countries (like "Lesotho") can be manually adjusted to ensure accuracy.
            The chart dynamically adjusts to fit different screen sizes and provides tooltips that display detailed information
            when hovering over the bars. The chart includes three distinct color-coded bars: gray for total life expectancy,
            green for healthy life expectancy, and red for unhealthy years, allowing for a clear comparison of these metrics across countries.
            
              
        </p>
    </div>
    
    <div class="chart-container">
        <svg id="alluvial-chart"></svg>
    </div>

    <!-- Link the JavaScript file -->
    <script src="../static/js/finalalluvial.js"></script>

</body>
</html>



{% endblock %}
